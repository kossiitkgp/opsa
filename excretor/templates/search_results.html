<div class="search-results-container">
    {% for message in messages %}
    <div class="message">
        <img
            class="avatar"
            src="{{ message.user.image_url }}"
            alt="User Avatar"
            hx-trigger="error"
            hx-swap="outerHTML"
            hx-get="/fallback-avatar"
            hx-target="this"
        />
        <div class="message-inner-container">
            <div class="user-and-time">
                <span class="name">{{ message.user.name }}</span>
                <span class="time"> {{ message.formatted_timestamp }} </span>
            </div>
            <div class="message-content">{{ message.text|safe }}</div>
        </div>
    </div>
    {% endfor %}
</div>

<!-- remove opened threads if any-->
<!-- hx-get has this empty data url so that i donot have to install hyperscript -->
<div
    hx-trigger="load"
    hx-get="data:text/html,"
    hx-swap="delete"
    hx-target=".thread-container"
></div>

<!-- remove opened channel messages if any-->
<!-- hx-get has this empty data url so that i donot have to install hyperscript -->
<div
    hx-trigger="load"
    hx-get="data:text/html,"
    hx-swap="delete"
    hx-target=".channel-container"
></div>
